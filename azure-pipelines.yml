trigger:
  branches:
    include:
    - '*'

variables:
  BuildPlatform: 'any cpu'
  BuildConfiguration: 'release'

stages:
- stage: nodejs_installation
  displayName: 'NodeJS Installation'
  jobs:
  - job: node_installation
    displayName: 'Node Installation'
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - task: NodeTool@0
      inputs:
        versionSpec: '10.x'
      displayName: 'Install Node.js'

    - script: |
         npm install
         npm run build
      displayName: 'npm install and build'
- stage: node_modules_installation
  displayName: 'Node Modules Installation'
  jobs:
  - job: install_modules
    displayName: 'installing modules'
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - script: |
         npm install
         npm run build
      displayName: 'npm install and build'



